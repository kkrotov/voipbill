Функционал сбора звонков в клиентский транка. А так же приема звонков из одного транка и доставка из в целевой регион.

Функционал действут для лицевых счетов на которых есть и услуги "номера" и услуги "транк".

Суть функциона:  Клиент имеет несколько услуг телефонов в разных регионах, а так же услугу "транк" . Задача - собрать звонки в один транк в одном регионе. Транк этот тоже является услугой этого клиента (всегда один).
А так же иметь возможность принять исходящий звонок из такого единого транка, и обеспечить прохождение звонка через узел региона, которому принадлежит номер (Для корректного СОРМ-ирования).

Случай 1.  Звонк поступает на номер такого клиета.

    Фаза 1. - Доставляем звонок на узел, к которому подключен собирающий хаб.

	Если находится такой лицевой счет, которому принадлежит этот номер, а так же есть услуга "транк". Если регион подключения транка находится на другом узле, то направляем звонок в транк, который является "дорогой" в регион транка.

    Фаза 2.

	Частный случай - сразу наступает фаза 2, если звонк сразу пришел на узел с транком. при поступления такого звонка на узел с собирающим транком - направляем звонок в собирающий транк. 
	
	
Случай 2. Звонок приходит из транка , который придлежит лицевому счету, на котором есть и услуга-этого номера А звонка.

    Фаза 1. - Доставляем звонок на узел, которому принадлежит этот номер А.
    
    	Если находится такой лицевой счет, которому принадлежит этот номер А, а так же есть услуга "транк" оригинационного плеча. 
    	Если регион подключения номера находится на другом узле, то направляем звонок в транк, который является "дорогой" в регион номера.

    Фаза 2.

	Частный случай - сразу наступает фаза 2, если звонк сразу пришел на узел-подключения номера А. при поступлении звонка на узел-подключения номера  - выполняем биллингацию обычным порядком.
